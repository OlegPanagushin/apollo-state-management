(this["webpackJsonpapollo-state-management"]=this["webpackJsonpapollo-state-management"]||[]).push([[0],{105:function(t,e,n){t.exports=n(117)},117:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(13),i=n.n(o),c=n(16),u=n(167),d=n(168),l=n(66),s=n(35),f=n(96),m=n(67),O=new f.a({dataIdFromObject:function(t){return t.id}}),E=new s.a({cache:O,resolvers:[m.resolvers],typeDefs:[m.typeDefs]});O.writeData({data:Object(l.a)({},m.initialState)});var T=n(95),v=Object(T.a)(),b=n(34),S=n(37),D=n(157),g=n(158),y=n(54),p=n(118),x=n(170),_=n(160),j=n(161),h=n(173),I=n(163),k=n(164),N=n(169),R=n(165),B=n(166),C=n(159),F=n(162),$=n(147),w=n(150),M=n(151),Q=n(172),A=n(153),L=n(154),q=n(152),G=n(155),P=n(15),W=n(17),Y=function(t){switch(t){case W.a.DONE:return W.a.IDLE;case W.a.IDLE:return W.a.DONE;default:return W.a.IN_PROGRESS}},J=function(t){var e=t.taskState,n=Object(S.a)(P.REMOVE_TODO),a=Object(b.a)(n,1)[0],o=Object(S.a)(P.EDIT_TODO),i=Object(b.a)(o,1)[0],c=Object(S.b)(P.TODOS_BY_STATE,{variables:{state:e}}).data;return r.a.createElement($.a,null,null===c||void 0===c?void 0:c.todosByState.map((function(t){var n=t.id,o=t.state,c=t.text;return r.a.createElement(w.a,{button:!0,dense:!0,key:n,onClick:function(){return i({variables:{id:n,state:Y(o),text:c},refetchQueries:[{query:P.TODOS_BY_STATE,variables:{state:e}}]})}},r.a.createElement(M.a,null,r.a.createElement(Q.a,{edge:"start",checked:o===W.a.DONE,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":n}})),r.a.createElement(A.a,{id:n,primary:c}),r.a.createElement(L.a,null,r.a.createElement(q.a,{"aria-label":"comments",edge:"end",onClick:function(){return a({variables:{id:n}})}},r.a.createElement(G.a,null))))})))},V=n(156),z=Object(V.a)((function(t){return{icon:{marginRight:t.spacing(1)},addButton:{bottom:t.spacing(2),position:"fixed",right:t.spacing(2)},todos:{margin:"".concat(t.spacing(4),"px auto ").concat(t.spacing(10),"px"),maxWidth:500}}})),H=function(t){switch(t){case 1:return W.a.IDLE;case 2:return W.a.DONE;default:return}},K=function(){var t=Object(S.a)(P.ADD_TODO),e=Object(b.a)(t,1)[0],n=z(),o=Object(a.useState)(0),i=Object(b.a)(o,2),c=i[0],u=i[1],d=Object(a.useState)(!1),l=Object(b.a)(d,2),s=l[0],f=l[1],m=Object(a.useState)(""),O=Object(b.a)(m,2),E=O[0],T=O[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{position:"sticky"},r.a.createElement(g.a,null,r.a.createElement(C.a,{className:n.icon,fontSize:"large"}),r.a.createElement(y.a,{variant:"h6"},"Tasks"))),r.a.createElement(p.a,{className:n.todos},r.a.createElement(x.a,{value:c,onChange:function(t,e){u(e)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"todo list"},r.a.createElement(_.a,{label:"All"}),r.a.createElement(_.a,{label:"Pending"}),r.a.createElement(_.a,{label:"Done"})),r.a.createElement(J,{taskState:H(c)})),r.a.createElement(j.a,{className:n.addButton,color:"primary",onClick:function(){f(!0)},variant:"round"},r.a.createElement(F.a,null)),r.a.createElement(h.a,{"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"sm",open:s},r.a.createElement(I.a,{id:"form-dialog-title"},"Create Task"),r.a.createElement(k.a,null,r.a.createElement(N.a,{autoFocus:!0,fullWidth:!0,label:"Task",margin:"dense",onChange:function(t){T(t.target.value)},type:"text",value:E})),r.a.createElement(R.a,null,r.a.createElement(B.a,{onClick:function(){f(!1),T("")},color:"primary"},"Cancel"),r.a.createElement(B.a,{onClick:function(){e({variables:{text:E}}),f(!1),T("")},color:"primary"},"Create"))))};i.a.render(r.a.createElement(c.a,{client:E},r.a.createElement(u.a,{theme:v},r.a.createElement(d.a,null),r.a.createElement(K,null))),document.getElementById("root"))},15:function(t,e,n){"use strict";n.d(e,"TODO_EDIT_FRAGMENT",(function(){return O})),n.d(e,"TODOS",(function(){return E})),n.d(e,"TODOS_BY_STATE",(function(){return T})),n.d(e,"ADD_TODO",(function(){return v})),n.d(e,"REMOVE_TODO",(function(){return b})),n.d(e,"EDIT_TODO",(function(){return S}));var a=n(27),r=n(28),o=n.n(r);n(78),n(79),n(80),n(81),n(82),n(83),n(84);function i(){var t=Object(a.a)(["\n  mutation editTodoMutation($id: String!, $text: String, $state: TaskState) {\n    editTodo(id: $id, text: $text, state: $state) @client\n  }\n"]);return i=function(){return t},t}function c(){var t=Object(a.a)(["\n  mutation removeTodoMutation($id: String!) {\n    removeTodo(id: $id) @client\n  }\n"]);return c=function(){return t},t}function u(){var t=Object(a.a)(["\n  ","\n  mutation addTodoMutation($text: String!) {\n    addTodo(text: $text) @client {\n      ...todoFragment\n    }\n  }\n"]);return u=function(){return t},t}function d(){var t=Object(a.a)(["\n  ","\n  query todosByStateQuery($state: TaskState) {\n    todosByState(state: $state) @client {\n      ...todoFragment\n    }\n  }\n"]);return d=function(){return t},t}function l(){var t=Object(a.a)(["\n  ","\n  query todosQuery {\n    todos @client {\n      ...todoFragment\n    }\n  }\n"]);return l=function(){return t},t}function s(){var t=Object(a.a)(["\n  fragment todoEditFragment on Todo {\n    text\n    state\n  }\n"]);return s=function(){return t},t}function f(){var t=Object(a.a)(["\n  fragment todoFragment on Todo {\n    id\n    text\n    state\n  }\n"]);return f=function(){return t},t}var m=o()(f()),O=o()(s()),E=o()(l(),m),T=o()(d(),m),v=o()(u(),m),b=o()(c()),S=o()(i())},17:function(t,e,n){"use strict";var a;n.d(e,"a",(function(){return a})),function(t){t.DONE="DONE",t.IDLE="IDLE",t.IN_PROGRESS="IN_PROGRESS"}(a||(a={}))},57:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(17),r={todos:[{__typename:"Todo",id:"1",text:"Create boilerplate",state:a.a.IDLE},{__typename:"Todo",id:"2",text:"???",state:a.a.DONE},{__typename:"Todo",id:"3",text:"Profit",state:a.a.IDLE}]}},67:function(t,e,n){"use strict";var a=n(77);n.d(e,"resolvers",(function(){return a.a}));var r=n(85);n.d(e,"typeDefs",(function(){return r.a}));var o=n(57);n.d(e,"initialState",(function(){return o.a}));n(15)},77:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n(66),r=n(70),o=n(57),i=n(15),c=n(17),u=o.a.todos.length,d={Mutation:{addTodo:function(t,e,n){var a=e.text,o=n.cache,d=o.readQuery({query:i.TODOS}),l={__typename:"Todo",id:(++u).toString(),text:a,state:c.a.IDLE},s={todos:[].concat(Object(r.a)((null===d||void 0===d?void 0:d.todos)||[]),[l])};return o.writeQuery({query:i.TODOS,data:s}),l},removeTodo:function(t,e,n){var a=e.id,r=n.cache,o=r.readQuery({query:i.TODOS});if(o){var c=o.todos.findIndex((function(t){return t.id===a}));return!(!o||void 0===c||-1===c)&&(o.todos.splice(c,1),r.writeQuery({query:i.TODOS,data:{todos:o.todos}}),!0)}},editTodo:function(t,e,n){var r=e.id,o=e.text,c=e.state,u=n.cache,d=u.readFragment({fragment:i.TODO_EDIT_FRAGMENT,id:r}),l=Object(a.a)({},d,{text:o,state:c});return u.writeFragment({fragment:i.TODO_EDIT_FRAGMENT,id:r,data:l}),!0}},Query:{todosByState:function(t,e,n){var a=e.state,o=n.cache.readQuery({query:i.TODOS});if(!o||!o.todos)return[];var c=Object(r.a)(o.todos);return a?c.filter((function(t){return t.state===a})):c}}}},78:function(t,e){},79:function(t,e){},80:function(t,e){},81:function(t,e){},82:function(t,e){},83:function(t,e){},84:function(t,e){},85:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(27),r=n(28);function o(){var t=Object(a.a)(["\n  enum TaskState {\n    IDLE\n    IN_PROGRESS\n    DONE\n  }\n\n  type Todo {\n    id: String!\n    text: String!\n    state: TaskState!\n  }\n\n  extend type Query {\n    todos: [Todo!]!\n    todosByState(state: TaskState): [Todo!]!\n  }\n\n  extend type Mutation {\n    addTodo(text: String!): Todo\n    editTodo(id: String!, text: String, state: TaskState): Boolean\n    removeTodo(id: String!): Boolean\n  }\n"]);return o=function(){return t},t}var i=n.n(r)()(o())}},[[105,1,2]]]);
//# sourceMappingURL=main.2f56301b.chunk.js.map